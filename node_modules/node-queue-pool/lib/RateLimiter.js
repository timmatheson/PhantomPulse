function RateLimiter(timespan, maxCount){
  this.timespan = timespan;
  this.maxAmount = maxCount || 1;
  this.inSpanAmount = 0;
  var me = this;
  this.hInterval = setInterval(function(){
    me.inSpanAmount = 0;
    me._resume();
  }, timespan);
}
RateLimiter.prototype.check = function(){
  return this.inSpanAmount < this.maxAmount;
}
RateLimiter.prototype.count = function(){
  this.inSpanAmount++;
}

exports.class = RateLimiter;